<html lang="en" xmlns="http://www.w3.org/1999/xhtml"> 
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<link rel="stylesheet" href="/bulma.min.css"/>
	<script src="lib.js"/>
</head>
<body>
	<form action="/project/upload" method="POST" enctype="multipart/form-data">
		<input type="hidden" name="redirect" value="/projects.xhtml"/>
		<input type="hidden" name="id" id="id" value=""/>
		<div class="field">
			<div class="file has-name">
				<label class="file-label">
					<input class="file-input" type="file" name="file" id="fileinput"/>
					<span class="file-cta">
						<span class="file-icon"><i class="fas fa-upload"/></span>
						<span class="file-label">Choose a file...</span>
					</span>
					<span class="file-name" id="filename"/>
				</label>
			</div>
		</div>
		<div class="field">
			<label class="label">Name</label>
			<div class="control">
				<input class="input" name="name" id="uploadname"/>
			</div>
		</div>
		<div class="field">
			<div class="control">
				<button class="button is-link" type="submit">Upload</button>
			</div>
		</div>
	</form>
	<script type="text/javascript">
		var params = new URL(location).searchParams;
		document.getElementById("id").value = params.get("project");
		var filename = document.getElementById("filename");
		var uploadname = document.getElementById("uploadname");
		document.getElementById("fileinput").onchange = function(event) {
			filename.textContent = event.target.files[0].name;
			uploadname.value = event.target.files[0].name;
		}
	</script>
</body>
</html>
