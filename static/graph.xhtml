<html lang="en" xmlns="http://www.w3.org/1999/xhtml"> 
<head>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<link rel="stylesheet" href="/bulma.min.css"/>
	<link rel="stylesheet" href="/bulmaswatch.min.css"/>
	<link rel="stylesheet" href="/css/all.min.css"/>
	<script src="/lib.js" type="text/javascript"/>
	<script src="/ansi_up.js" type="text/javascript"/>
	<link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png"/>
	<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png"/>
	<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png"/>
	<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png"/>
	<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png"/>
	<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png"/>
	<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png"/>
	<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png"/>
	<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png"/>
	<link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png"/>
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/>
	<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png"/>
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/>
	<link rel="manifest" href="/manifest.json"/>
	<meta name="msapplication-TileColor" content="#ffffff"/>
	<meta name="msapplication-TileImage" content="/ms-icon-144x144.png"/>
	<meta name="theme-color" content="#ffffff"/>
</head>
<body class="has-background-warning-light" style="min-height:100vh;padding:0;">
	<nav class="navbar is-radiusless" role="navigation" aria-label="main navigation" style="position:sticky;top:0">
		<div class="navbar-brand">
			<a class="navbar-item" href="/">
				<img src="/favicon-96x96.png"/>
				<span class="is-size-4 ml-2 has-text-info has-text-weight-bold is-family-code">RACS</span>
			</a>
			<a class="navbar-item is-tab" href="/">Projects</a>
			<a class="navbar-item is-tab" href="/credentials.xhtml">Credentials</a>
			<a class="navbar-item is-tab" href="/registries.xhtml">Registries</a>
			<a class="navbar-item is-tab" href="/tasks.xhtml">Tasks</a>
			<a class="navbar-item is-tab is-active" href="/graph.xhtml">Graph</a>
			<a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" id="navbar-burger">
				<span aria-hidden="true"></span>
				<span aria-hidden="true"></span>
				<span aria-hidden="true"></span>
			</a>
		</div>
		<div class="navbar-menu" id="navbar-menu">
			<div class="navbar-end">
				<div class="navbar-item" id="out-actions" style="display:none;">
					<div class="buttons">
						<button class="button is-small is-primary" onclick="showLogin()">Login</button>
					</div>
				</div>
				<div class="navbar-item" id="in-actions" style="display:none;">
					<div class="buttons">
						<button class="button is-small is-danger" onclick="showLogout()">Logout</button>
					</div>
				</div>
			</div>
		</div>
	</nav>
	<div class="content">
		<img src="/project/graph"/>
	</div>
	<script type="text/javascript">
		fetch("/user/current").then(response => response.text()).then(name => {
			console.log("User = ", name);
			window.user = name;
			var inActions = document.getElementById("in-actions");
			var outActions = document.getElementById("out-actions");
			if (name) {
				inActions.style.display = null;
				outActions.style.display = "none";
			} else {
				inActions.style.display = "none";
				outActions.style.display = null;
			}

			fetchInterval = setInterval(fetchConfig, 1000);
			fetchConfig();
		});
	</script>
</body>
</html>
